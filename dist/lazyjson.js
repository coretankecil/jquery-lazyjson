!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports.LazyJSON=t(require("jQuery")):e.LazyJSON=t(e.jQuery)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return p("compiling template",e),{render:function(t){var r=String(e).valueOf(),n=r.match(/\{\{(?:\s+)?[\w\.]+(?:\s+)?\}\}/g)||[];return n.forEach(function(e){var n=t;e.match(/[\w\.]+/)[0].split(".").forEach(function(e){"item"!==e&&"string"!=typeof n&&(n=(n||{})[e])}),r=r.replace(e,n||"")}),r}}}function a(e){var t=this,r=this._options.api.transform(e);return r instanceof Array?void r.forEach(function(e,r){var n=(0,u["default"])(t._template.render(e)).hide();t._state.items.push(n),t._options.template.attach(t._$el,n,r)}):void p("api.transform() expects an array, got",r)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(1),u=n(c),l=r(2),f=n(l);if("undefined"==typeof jQuery)throw new Error("LazyJSON's JavaScript requires jQuery");var p=(0,f["default"])("lazyjson"),d=["request.end","request.failure","request.start","request.success"],h=function(){function e(t){var r=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),this._$el=t,this._options=u["default"].extend(!0,{},e.defaults,n);var s=this._options.template.engine,a=this._options.template.html,i=this._options.api.url;if(!i)throw new Error("LazyJSON requires the `api.url` option");this._template=s.compile(a),this._url=s.compile(i),this._state={loading:!1,params:{},items:[],url:null},d.forEach(function(e){r._$el.on("lazyjson."+e,p.bind(p,e))}),this._options.initialize&&(p("initializing"),this.request())}return i(e,[{key:"request",value:function(){var e=this;this.loading||(this._state.loading=!0,this._state.params=this._options.api.params(this._state.params),this._state.url=this._url.render(this._state.params),p("requesting",this._state.url),this._$el.trigger("lazyjson.request.start",[this]),u["default"].getJSON(this._state.url).done(function(t){a.call(e,t),e._$el.trigger("lazyjson.request.success",[e,t])}).fail(function(t){p("API error",t),e._$el.trigger("lazyjson.request.failure",[e,t])}).always(function(){e._state.loading=!1,e._$el.trigger("lazyjson.request.end",[e])}))}}]),e}();t["default"]=h,h.defaults={initialize:!0,api:{url:null,transform:function(e){return e},params:function(e){return{}}},template:{html:"<div>default template</div>",attach:function(e,t,r){t.appendTo(e).delay(100*r).fadeIn(100*r)},detach:function(e,t,r){t.delay(100*r).fadeOut(100*r).remove()},engine:{compile:s}}},u["default"].fn.lazyJSON=function(e){var t=new h(this,e);return this.data("lazyJSON",t),t},e.exports=t["default"]},function(t,r){t.exports=e},function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,n),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}}function i(){var e;try{e=t.storage.debug}catch(r){}return e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=r(3),t.log=s,t.formatArgs=o,t.save=a,t.load=i,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(i())},function(e,t,r){function n(){return t.colors[l++%t.colors.length]}function o(e){function r(){}function o(){var e=o,r=+new Date,s=r-(u||r);e.diff=s,e.prev=u,e.curr=r,u=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=n());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var i=0;a[0]=a[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;i++;var o=t.formatters[n];if("function"==typeof o){var s=a[i];r=o.call(e,s),a.splice(i,1),i--}return r}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var c=o.log||t.log||console.log.bind(console);c.apply(e,a)}r.enabled=!1,o.enabled=!0;var s=t.enabled(e)?o:r;return s.namespace=e,s}function s(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function i(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o,t.coerce=c,t.disable=a,t.enable=s,t.enabled=i,t.humanize=r(4),t.names=[],t.skips=[],t.formatters={};var u,l=0},function(e,t){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=i?Math.round(e/i)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,u,"day")||s(e,c,"hour")||s(e,i,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,i=60*a,c=60*i,u=24*c,l=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):n(e)}}])});